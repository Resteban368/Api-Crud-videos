(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a8368e7"],{"3d4d":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a={class:"d-flex flex-wrap flex-stack mb-6"},c={class:"fw-bolder my-2"},r={class:"fs-6 text-gray-400 fw-bold ms-1"},l={class:"d-flex my-2"},i={class:"row g-6 g-xl-9"};function s(e,t,n,s,u,m){var p=Object(o["resolveComponent"])("CardGroupCompany"),d=Object(o["resolveComponent"])("CompaniesGroupCU"),b=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("h3",c,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("companiesGroup"))+" ",1),Object(o["createElementVNode"])("span",r,"("+Object(o["toDisplayString"])(e.companiesGroupList.length)+")",1)]),Object(o["createElementVNode"])("div",l,[e.create_companiesgroup?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.newCompanyGroup&&e.newCompanyGroup.apply(e,t)})},Object(o["toDisplayString"])(e.$t("btnNew")),1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",i,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.companiesGroupList,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t.id,class:"col-md-3"},[Object(o["createVNode"])(p,{id:t.id,initials:t.name.match(/\b(\w)/g).join(""),name:t.name,item:t,onEdit:e.editCompanyGroup,onDelete:e.deleteCompanyGroup},null,8,["id","initials","name","item","onEdit","onDelete"])])})),128))]),""!==e.typeEvent?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,modelValue:e.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialogVisible=t}),width:"50%",onClose:e.resetModal},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{"type-event":e.typeEvent,item:e.element,onSuccess:e.successOperation},null,8,["type-event","item","onSuccess"])]})),_:1},8,["modelValue","onClose"])):Object(o["createCommentVNode"])("",!0)],64)}var u=n("fd34"),m=n("16d6"),p={class:"card"},d={class:"card-body d-flex flex-center flex-column p-9"},b={class:"mb-5"},f={class:"symbol symbol-75px symbol-circle"},O=["src"],j={href:"javascript:void(0)",class:"fs-4 text-gray-800 text-hover-primary fw-bolder mb-0"},v=Object(o["createElementVNode"])("div",{class:"fw-bold text-gray-400 mb-6"},null,-1),g={key:0};function C(e,t,n,a,c,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",f,[e.logo?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:e.logo,alt:""},null,8,O)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:Object(o["normalizeClass"])(["bg-light-primary text-info","symbol-label fs-5 fw-bolder"])},Object(o["toDisplayString"])(e.initials),1))])]),Object(o["createElementVNode"])("a",j,Object(o["toDisplayString"])(e.name),1),v,e.update_companiesgroup||e.delete_companiesgroup?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",g,[e.update_companiesgroup?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-sm btn-light-warning fw-bolder py-2 mx-2 px-3 mb-2",onClick:t[0]||(t[0]=function(t){return e.$emit("edit",e.item)})},Object(o["toDisplayString"])(e.$t("btnEdit")),1)):Object(o["createCommentVNode"])("",!0),e.delete_companiesgroup?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-sm btn-light-danger fw-bolder py-2 mx-2 px-3 mb-2",onClick:t[1]||(t[1]=function(t){return e.$emit("delete",e.id)})},Object(o["toDisplayString"])(e.$t("btnDelete")),1)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)])])}var y=n("0238"),k=Object(o["defineComponent"])({name:"CardGroupCompany",components:{},props:{id:Number,logo:{type:String,required:!1},initials:String,name:String,item:Object},setup:function(){return{update_companiesgroup:Object(o["ref"])(Object(y["a"])("companies group: update")),delete_companiesgroup:Object(o["ref"])(Object(y["a"])("companies group: delete"))}}}),E=n("6b0d"),V=n.n(E);const N=V()(k,[["render",C]]);var w=N,h={class:"d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20"},G={class:"fw-bolder my-2"},x=Object(o["createElementVNode"])("span",{class:"fs-6 text-gray-400 fw-bold ms-1"},null,-1),B={class:"w-lg-500px bg-white rounded shadow-sm p-10 p-lg-15 mx-auto"},S={key:0,class:"fv-row mb-10"},D={class:"form-label fs-6 fw-bolder text-dark"},_={class:"fv-plugins-message-container"},U={class:"fv-help-block"},L={class:"fv-row mb-10"},A={class:"form-label fs-6 fw-bolder text-dark"},T={class:"fv-plugins-message-container"},$={class:"fv-help-block"},M={class:"text-center"},I={ref:"submitButton",type:"submit",class:"btn btn-lg btn-primary mb-5"},F={class:"indicator-label"},R={class:"indicator-progress"},q=Object(o["createElementVNode"])("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function z(e,t,n,a,c,r){var l=Object(o["resolveComponent"])("el-option"),i=Object(o["resolveComponent"])("el-select"),s=Object(o["resolveComponent"])("ErrorMessage"),u=Object(o["resolveComponent"])("Field"),m=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,[Object(o["createElementVNode"])("h3",G,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title)+" ",1),x]),Object(o["createElementVNode"])("div",B,[Object(o["createVNode"])(m,{id:"companiesGCU",class:"form w-100","validation-schema":e.vcompaniesGroup,onSubmit:e.onSubmitCG},{default:Object(o["withCtx"])((function(){return["companiesGroupUpdate"===e.route.name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",S,[Object(o["createElementVNode"])("label",D,Object(o["toDisplayString"])(e.$t("iid")),1),Object(o["createVNode"])(i,{modelValue:e.form.id,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.id=t}),class:"form-control form-control-lg form-control-solid",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":e.selectCompaniesGroup,loading:e.inputId.loading},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.inputId.options,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:e.id,label:e.id.toString(),value:e.id},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.id+" "+e.name),1)]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue","remote-method","loading"]),Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",U,[Object(o["createVNode"])(s,{name:"id"})])])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("label",A,Object(o["toDisplayString"])(e.$t("iname")),1),Object(o["createVNode"])(u,{modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.name=t}),class:"form-control form-control-lg form-control-solid",type:"text",name:"name",autocomplete:"off"},null,8,["modelValue"]),Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("div",$,[Object(o["createVNode"])(s,{name:"name"})])])]),Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("button",I,[Object(o["createElementVNode"])("span",F,Object(o["toDisplayString"])(e.$t("btnSave")),1),Object(o["createElementVNode"])("span",R,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("wait"))+" ",1),q])],512)])]})),_:1},8,["validation-schema","onSubmit"])])])}var J=n("7bb1"),P=n("506a"),Y=n("6c02"),H=n("47e2"),K=Object(o["defineComponent"])({name:"CompaniesGroupCU",components:{Field:J["b"],Form:J["c"],ErrorMessage:J["a"]},props:{typeEvent:String,item:Object},setup:function(e,t){var n=t.emit,a=Object(Y["c"])(),c=Object(o["ref"])(null),r=Object(o["ref"])(""),l=Object(H["a"])({useScope:"global"}).t,i=Object(o["ref"])({id:null,name:""}),s=Object(o["ref"])({loading:!1,options:[],list:[],value:[],data:[]}),p=function(){m["a"].get("/api/companiesGroups").then((function(e){var t=e.data;s.value.list=t}))},d=function(e){""!==e?(s.value.loading=!0,setTimeout((function(){s.value.loading=!1,s.value.options=s.value.list.filter((function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):s.value.options=[]};Object(o["onMounted"])((function(){var t=a.name;if(i.value={id:null,name:""},"companiesGroupCreate"===t||"create"===e.typeEvent?r.value=l("createNewBusinessGroup"):"companiesGroupUpdate"!==t&&"update"!==e.typeEvent||(r.value="Actualizar grupo de empresas"),e.item&&Object.keys(e.item).length>0&&(i.value.id=e.item.id,i.value.name=e.item.name),"companiesGroupUpdate"===t&&p(),!e.typeEvent){var n="companiesGroupCreate"==t?"companiesGroupCreate":"companiesGroupUpdate";Object(u["a"])(n,["companies","companiesGroup"],!1)}}));var b=function(e){m["a"].post("/api/companiesGroups",e).then((function(e){var t,o=e.data;n("success",o),null===(t=c.value)||void 0===t||t.removeAttribute("data-kt-indicator"),i.value={id:null,name:""}})).catch((function(){var e;null===(e=c.value)||void 0===e||e.removeAttribute("data-kt-indicator")}))},f=function(e){m["a"].put("/api/companiesGroups/"+i.value.id,e).then((function(e){var t,o=e.data;n("success",o),null===(t=c.value)||void 0===t||t.removeAttribute("data-kt-indicator")})).catch((function(){var e;null===(e=c.value)||void 0===e||e.removeAttribute("data-kt-indicator")}))},O=P["a"]().shape({name:P["c"]().required(Object(y["c"])("rname")).label("Name")}),j=function(e){c.value&&(c.value.setAttribute("data-kt-indicator","on"),i.value.id?f(i.value):b(e))};return{route:a,title:r,submitButton:c,vcompaniesGroup:O,form:i,inputId:s,onSubmitCG:j,createCompaniesGroup:b,updateCompaniesGroup:f,getCompaniesGroup:p,selectCompaniesGroup:d}}});const Q=V()(K,[["render",z]]);var W=Q,X=n("0241"),Z=n.n(X),ee=n("5502"),te=Object(o["defineComponent"])({name:"ManagementCompaniesGroup",components:{CardGroupCompany:w,CompaniesGroupCU:W},setup:function(){var e=Object(ee["b"])(),t=Object(o["ref"])([]),n=Object(o["ref"])(""),a=Object(o["ref"])(!1),c=Object(o["ref"])({}),r=function(){m["a"].get("/api/companiesGroups").then((function(e){var n=e.data;t.value=n}))},l=function(){n.value="create",a.value=!0},i=function(e){c.value=e,n.value="update",a.value=!0},s=function(e){Z.a.fire({text:"Esta seguro que desea eliminar este grupo de empresas",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",customClass:{confirmButton:"btn fw-bold btn-light-danger",cancelButton:"btn fw-bold btn-light-primary"}}).then((function(n){n.isConfirmed&&m["a"].delete("/api/companiesGroups/"+e).then((function(){var n=t.value.findIndex((function(t){return t.id===e}));t.value.splice(n,1)}))}))},p=function(e){var n=t.value.findIndex((function(t){return t.id===e.id}));n>=0?t.value[n]=e:t.value.push(e),a.value=!1},d=function(){n.value="",c.value={}},b=Object(o["computed"])((function(){return""===e.getters.searchLocal?t.value||[]:t.value.filter((function(t){return t.name.toLowerCase().includes(e.getters.searchLocal.toLowerCase())}))}));return Object(o["onMounted"])((function(){Object(u["a"])("companiesGroupIndex",["companies","companiesGroup"],!0),r()})),{newCompanyGroup:l,editCompanyGroup:i,deleteCompanyGroup:s,successOperation:p,resetModal:d,companiesGroupList:b,typeEvent:n,dialogVisible:a,element:c,create_companiesgroup:Object(o["ref"])(Object(y["a"])("companies group: create"))}}});const ne=V()(te,[["render",s]]);t["default"]=ne},fd34:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var o=n("0613"),a=n("38e0"),c=function(e,t,n){o["a"].dispatch(a["a"].SET_BREADCRUMB_ACTION,{title:e,pageBreadcrumbPath:t,isSearch:n||!1})},r=function(e){o["a"].dispatch(a["a"].SET_BREADCRUMB_ACTION,{title:e})}}}]);
//# sourceMappingURL=chunk-2a8368e7.e1bbcfe9.js.map